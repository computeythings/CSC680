(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{3643:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(7876),r=n(4232);function h(e){let{text:t,isSelected:n,onClick:h}=e,[d,a]=(0,r.useState)(()=>({x:Math.random()*(window.innerWidth-200),y:Math.random()*(window.innerHeight-100)})),[o,s]=(0,r.useState)(()=>{let e=2+3*Math.random(),t=Math.random()*Math.PI*2;return{x:Math.cos(t)*e,y:Math.sin(t)*e}}),u=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e,t=()=>({width:window.innerWidth,height:window.innerHeight}),n=()=>{if(!u.current)return;let e=t(),n=u.current.getBoundingClientRect(),i=d.x+o.x,r=d.y+o.y,h={...o};(i+n.width>e.width||i<0)&&(h.x=-o.x,i+n.width>e.width&&(i=e.width-n.width),i<0&&(i=0)),(r+n.height>e.height||r<0)&&(h.y=-o.y,r+n.height>e.height&&(r=e.height-n.height),r<0&&(r=0)),a({x:i,y:r}),s(h)},i=()=>{n(),e=requestAnimationFrame(i)};e=requestAnimationFrame(i);let r=()=>{if(!u.current)return;let e=t(),n=u.current.getBoundingClientRect(),i=d.x,r=d.y;i+n.width>e.width&&(i=e.width-n.width),r+n.height>e.height&&(r=e.height-n.height),a({x:i,y:r})};return window.addEventListener("resize",r),()=>{cancelAnimationFrame(e),window.removeEventListener("resize",r)}},[d,o]),(0,i.jsx)("div",{ref:u,onClick:h,className:"fixed font-bold text-2xl text-black px-3 py-1 rounded-md bg-white select-none cursor-pointer ".concat(n?"border-2 border-blue-500":""),style:{left:"".concat(d.x,"px"),top:"".concat(d.y,"px"),zIndex:9999},children:t})}function d(e){let{text:t,isSelected:n,onClick:h}=e,[d,a]=(0,r.useState)(()=>({x:Math.random()*(window.innerWidth-200),y:Math.random()*(window.innerHeight-100)})),[o,s]=(0,r.useState)(()=>{let e=2+3*Math.random(),t=Math.random()*Math.PI*2;return{x:Math.cos(t)*e,y:Math.sin(t)*e}}),u=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e,t=()=>({width:window.innerWidth,height:window.innerHeight}),n=()=>{if(!u.current)return;let e=t(),n=u.current.getBoundingClientRect(),i=d.x+o.x,r=d.y+o.y,h={...o};(i+n.width>e.width||i<0)&&(h.x=-o.x,i+n.width>e.width&&(i=e.width-n.width),i<0&&(i=0)),(r+n.height>e.height||r<0)&&(h.y=-o.y,r+n.height>e.height&&(r=e.height-n.height),r<0&&(r=0)),a({x:i,y:r}),s(h)},i=()=>{n(),e=requestAnimationFrame(i)};e=requestAnimationFrame(i);let r=()=>{if(!u.current)return;let e=t(),n=u.current.getBoundingClientRect(),i=d.x,r=d.y;i+n.width>e.width&&(i=e.width-n.width),r+n.height>e.height&&(r=e.height-n.height),a({x:i,y:r})};return window.addEventListener("resize",r),()=>{cancelAnimationFrame(e),window.removeEventListener("resize",r)}},[d,o]),(0,i.jsx)("div",{ref:u,onClick:h,className:"fixed font-bold text-2xl text-black px-3 py-1 rounded-md bg-white select-none cursor-pointer ".concat(n?"border-2 border-blue-500":""),style:{left:"".concat(d.x,"px"),top:"".concat(d.y,"px"),zIndex:9999},children:t})}var a=n(4598),o=n(9099),s=n(5);function u(){let e=(0,o.useRouter)(),{user:t,login:n}=(0,a.A)(),[u,l]=(0,r.useState)(!0),[c,w]=(0,r.useState)(""),[x,g]=(0,r.useState)(""),[f,m]=(0,r.useState)(new Set),[y,p]=(0,r.useState)(new Set),b=e=>{m(t=>new Set(t).add(e))},S=e=>{p(t=>new Set(t).add(e))};if((0,r.useEffect)(()=>{s.dG.getLoginList().then(e=>{200==e.statusCode?e.data.data.forEach(e=>{b(e.passwordstring),S(e.user)}):alert("unable to contact login server.")}).finally(()=>{l(!1)})},[t,e]),u)return null;if(t){let t=localStorage.getItem("redirect");return e.push(t||"/"),null}let v=e=>{w(t=>t===e?"":e)},M=e=>{g(t=>t===e?"":e)};return(0,i.jsxs)("div",{className:"w-full flex items-center justify-center p-0",children:[[...f].map(e=>(0,i.jsx)(h,{text:e,isSelected:x===e,onClick:()=>M(e)},e)),[...y].map(e=>(0,i.jsx)(d,{text:e,isSelected:c===e,onClick:()=>v(e)},e)),(0,i.jsx)("div",{className:"flex items-center justify-center",children:(0,i.jsx)("button",{onClick:()=>{n(c,x).then(e=>{e||(alert("TODO: error stuff"),w(""),g(""))})},type:"submit",className:"bg-white p-2 ".concat(""!==c&&""!=x?"text-blue-500 underline hover:text-blue-700 cursor-pointer":"text-white"),children:"SUBMIT"})})]})}function l(){return(0,i.jsx)(u,{})}},7984:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(3643)}])},9099:(e,t,n)=>{e.exports=n(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(7984)),_N_E=e.O()}]);