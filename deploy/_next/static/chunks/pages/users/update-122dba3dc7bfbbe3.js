(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[604],{2389:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(7876),n=s(5),r=s(4232);function l(e){let{title:t,found:s}=e,[l,o]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1),c=()=>{n.dG.getUser(l).then(e=>{200==e.statusCode?(console.log(e.data.data),s(e.data.data)):d(!0)})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("h2",{className:"text-center font-bold text-4xl",children:t})}),(0,a.jsxs)("div",{className:"p-4",children:["Username:",(0,a.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),onKeyDown:e=>{d(!1),"Enter"===e.key&&c()},className:"border px-3 py-1 rounded w-full focus:outline-none ".concat(u?"border-red-500":"")})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onClick:c,type:"submit",className:"px-4 border cursor-pointer mb-4 text-center hover:shadow-md",children:"Search"})})]})}},5337:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(7876),n=s(4598),r=s(9099),l=s(4232),o=s(2389),u=s(9576),d=s(5);function c(){let{user:e}=(0,n.A)(),t=(0,r.useRouter)(),[s,c]=(0,l.useState)(!0),[i,x]=(0,l.useState)(null);return((0,l.useEffect)(()=>{c(!1)},[e,t]),s)?null:e?(localStorage.removeItem("redirect"),(0,a.jsx)("div",{className:"w-full content-center",children:(0,a.jsx)("div",{className:"bg-white mx-auto gap-4 text-black w-3/4 border",children:i?(0,a.jsx)(u.A,{...i,title:"Update User",onSubmit:e=>d.dG.updateUser(i.id,e).then(e=>(200==e.statusCode&&x(null),e))}):(0,a.jsx)(o.A,{title:"Update User",found:e=>{x(e)}})})})):(localStorage.setItem("redirect","/users/update/"),t.push("/login/"),null)}function i(){let{user:e}=(0,n.A)(),t=(0,r.useRouter)(),[s,o]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{o(!1)},[e,t]),s)?null:e?["admin"].includes(e.role)?(localStorage.removeItem("redirect"),(0,a.jsx)(c,{})):t.push("/"):(localStorage.setItem("redirect","/users/update/"),t.push("/login/"),null)}},9099:(e,t,s)=>{e.exports=s(8253)},9576:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(7876),n=s(4232);function r(e){let{firstname:t="",lastname:s="",user:r="",password:l="",title:o,onSubmit:u}=e,[d,c]=(0,n.useState)(""),[i,x]=(0,n.useState)(""),[p,m]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[v,j]=(0,n.useState)(!1),[N,b]=(0,n.useState)("");(0,n.useEffect)(()=>{x(t),m(s),c(r),f(l)},[t,s,r,l]);let g=e=>{j(!1),"Enter"===e.key&&w()},w=()=>{if(!d||!i||!p||!h)return void j(!0);u({firstname:i,lastname:p,user:d,password:h,role:N}).then(e=>{200==e.statusCode?(c(""),x(""),m(""),f(""),b("")):(console.log(e),alert("Nope"))})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("h2",{className:"text-center font-bold text-4xl",children:o})}),(0,a.jsxs)("div",{className:"p-4",children:["First Name:",(0,a.jsx)("input",{type:"text",value:i,onChange:e=>x(e.target.value),onKeyDown:g,className:"border px-3 py-1 rounded w-full focus: outline-none ".concat(v&&!i?"border-red-500":"")})]}),(0,a.jsxs)("div",{className:"p-4",children:["Last Name:",(0,a.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),onKeyDown:g,className:"border px-3 py-1 rounded w-full focus: outline-none ".concat(v&&!p?"border-red-500":"")})]}),(0,a.jsxs)("div",{className:"p-4",children:["Username:",(0,a.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),onKeyDown:g,className:"border px-3 py-1 rounded w-full focus: outline-none ".concat(v&&!d?"border-red-500":"")})]}),(0,a.jsxs)("div",{className:"p-4",children:["Password:",(0,a.jsx)("input",{type:"password",value:h,onChange:e=>f(e.target.value),onKeyDown:g,className:"border px-3 py-1 rounded w-full focus: outline-none ".concat(v&&!h?"border-red-500":"")})]}),(0,a.jsxs)("div",{className:"flex my-8",children:[(0,a.jsx)("div",{className:"ml-auto",children:"Role:"}),(0,a.jsx)("div",{className:"flex ml-4 mr-auto",children:["admin","valet","parking_attendant"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2 mx-4",children:[(0,a.jsx)("input",{type:"checkbox",checked:N===e,onChange:()=>b(e)}),(0,a.jsx)("span",{children:e})]},e))})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onClick:w,type:"submit",className:"px-4 border cursor-pointer mb-4 text-center hover:shadow-md",children:"Submit"})})]})}},9768:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/update",function(){return s(5337)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(9768)),_N_E=e.O()}]);