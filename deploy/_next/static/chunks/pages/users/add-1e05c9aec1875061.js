(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[476],{348:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/add",function(){return t(6543)}])},6543:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(7876),n=t(4598),r=t(9099),l=t(4232),o=t(9576),d=t(5);function c(){let{user:e}=(0,n.A)(),s=(0,r.useRouter)(),[t,c]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{c(!1)},[e,s]),t)?null:e?(localStorage.removeItem("redirect"),(0,a.jsx)("div",{className:"w-full content-center",children:(0,a.jsx)("div",{className:"bg-white mx-auto gap-4 text-black w-3/4 border",children:(0,a.jsx)(o.A,{title:"Add User",onSubmit:e=>d.dG.addUser(e)})})})):(localStorage.setItem("redirect","/users/add/"),s.push("/login/"),null)}function u(){return(0,a.jsx)(c,{})}},9099:(e,s,t)=>{e.exports=t(8253)},9576:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(7876),n=t(4232);function r(e){let{firstname:s="",lastname:t="",user:r="",password:l="",title:o,onSubmit:d}=e,[c,u]=(0,n.useState)(""),[i,x]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[v,N]=(0,n.useState)(!1),[j,b]=(0,n.useState)("");(0,n.useEffect)(()=>{x(s),p(t),u(r),f(l)},[s,t,r,l]);let w=e=>{N(!1),"Enter"===e.key&&g()},g=()=>{if(!c||!i||!m||!h)return void N(!0);d({firstname:i,lastname:m,user:c,password:h,role:j}).then(e=>{200==e.statusCode?(u(""),x(""),p(""),f(""),b("")):(console.log(e),alert("Nope"))})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("h2",{className:"text-center font-bold text-4xl",children:o})}),(0,a.jsxs)("div",{className:"p-4",children:["First Name:",(0,a.jsx)("input",{type:"text",value:i,onChange:e=>x(e.target.value),onKeyDown:w,className:"border px-3 py-1 rounded w-full focus: outline-none ".concat(v&&!i?"border-red-500":"")})]}),(0,a.jsxs)("div",{className:"p-4",children:["Last Name:",(0,a.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),onKeyDown:w,className:"border px-3 py-1 rounded w-full focus: outline-none ".concat(v&&!m?"border-red-500":"")})]}),(0,a.jsxs)("div",{className:"p-4",children:["Username:",(0,a.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),onKeyDown:w,className:"border px-3 py-1 rounded w-full focus: outline-none ".concat(v&&!c?"border-red-500":"")})]}),(0,a.jsxs)("div",{className:"p-4",children:["Password:",(0,a.jsx)("input",{type:"password",value:h,onChange:e=>f(e.target.value),onKeyDown:w,className:"border px-3 py-1 rounded w-full focus: outline-none ".concat(v&&!h?"border-red-500":"")})]}),(0,a.jsxs)("div",{className:"flex my-8",children:[(0,a.jsx)("div",{className:"ml-auto",children:"Role:"}),(0,a.jsx)("div",{className:"flex ml-4 mr-auto",children:["admin","valet","parking_attendant"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2 mx-4",children:[(0,a.jsx)("input",{type:"checkbox",checked:j===e,onChange:()=>b(e)}),(0,a.jsx)("span",{children:e})]},e))})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onClick:g,type:"submit",className:"px-4 border cursor-pointer mb-4 text-center hover:shadow-md",children:"Submit"})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(348)),_N_E=e.O()}]);